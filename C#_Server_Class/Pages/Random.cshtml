@page
@model C__Server_Class.Pages.RandomModel
@{
	ViewData["title"] = "Randomizer";

}
<div class="text-center">
@Html.AntiForgeryToken()
<h1>Random Number Generator</h1>
<p id = "randomNumber">@Model.RandomNumber</p>
<button id="btnGenRnd">Generate</button>
</div>

@section Scripts{
	<script>
		const token = document
		.querySelector("input[name=__RequestVerificationToken]").value
		document.getElementById("btnGenRnd")
		.addEventListener("click", ()=>{
			fetch("", {
				headers: {
					"RequestVerificationToken": token
				},
				method: "POST"
			})
			.then(response => response.json())
			.then(
				data =>{
					document.getElementById("randomNumber")
					.textContent = data.number
				}
			)
		})
	</script>
}